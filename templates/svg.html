{% extends "base_authenticated.html" %}
{% block title %}SVG Drawing Module{% endblock %}
{% block page_content %}
<style>
    #svgWrapper {
        position: relative;
        width: 100%;
        height: 100%;
        overflow: auto;
        -ms-overflow-style: none;
        scrollbar-width: none;
        background-color: #333333; /* 20% gray */
    }
    #svgWrapper::-webkit-scrollbar {
        display: none;
    }
    #drawingSvg {
        background-color: #ffffff; /* White SVG background */
        touch-action: none; /* Prevent default touch scrolling */
    }
    .bounding-box {
        fill: none;
        stroke: #000000;
        stroke-opacity: 0.5;
        stroke-width: 2;
        stroke-dasharray: 5,5;
    }
    .control-point {
        fill: #ff0000;
        stroke: #000000;
        stroke-width: 1;
    }
    .anchor-point {
        fill: #0000ff;
        stroke: #000000;
        stroke-width: 1;
    }
    .control-line {
        stroke: #000000;
        stroke-opacity: 0.3;
        stroke-width: 1;
    }
</style>
<div class="flex flex-col h-full">
    <!-- Property Toolbar (Top) -->
    <div class="bg-gray-700 text-white p-2 flex justify-between items-center">
        <!-- Left-aligned controls -->
        <div class="flex items-center space-x-4">
            <input type="color" id="colorPicker" value="#000000" class="h-8 w-8" title="Stroke Color">
            <input type="range" id="strokeWidth" min="1" max="20" value="5" class="w-32">
            <span id="strokeWidthValue" class="text-sm">5</span>
        </div>
        <!-- Right-aligned controls -->
        <div class="flex items-center space-x-4">
            <button id="saveButton" class="bg-gray-600 p-2 rounded hover:bg-gray-500" title="Save SVG">
                <i class="bi bi-download w-6 h-6"></i>
            </button>
        </div>
    </div>
    <!-- Main Content -->
    <div class="flex flex-1 overflow-hidden min-h-0">
        <!-- Tool Selection Bar (Left) -->
        <div class="bg-gray-700 w-16 flex flex-col items-center space-y-2 p-2">
            <button id="penTool" class="tool-btn p-2 bg-gray-500 rounded hover:bg-gray-500 text-white" data-tool="pen" title="Pen">
                <i class="bi bi-pen w-6 h-6"></i>
            </button>
            <button id="selectTool" class="tool-btn p-2 bg-gray-600 rounded hover:bg-gray-500 text-white" data-tool="select" title="Select">
                <i class="bi bi-cursor w-6 h-6"></i>
            </button>
            <button id="bezierTool" class="tool-btn p-2 bg-gray-600 rounded hover:bg-gray-500 text-white" data-tool="bezier" title="Bezier Curve">
                <i class="bi bi-vector-pen w-6 h-6"></i>
            </button>
        </div>
        <!-- SVG Container -->
        <div class="flex-1 p-4 overflow-hidden relative">
            <div id="svgWrapper" class="relative w-full h-full overflow-auto">
                <svg id="drawingSvg" width="2000" height="2000"></svg>
            </div>
        </div>
    </div>
    <!-- Bottom Bar (Placeholder) -->
    <div class="bg-gray-700 text-white p-2 flex justify-center items-center space-x-4 sticky bottom-0 z-10">
        <span class="text-sm">Zoom controls (disabled)</span>
    </div>
</div>
<script src="/static/js/svg.js"></script>
{% endblock %}